<div class="container">
  <div class="row">
    <div class="col-12">

      <div class="header-button">
        <button class="btn-default btn-roxo btn-go-to-cadastrar" (click)="goToCadastro()">Cadastrar</button>
      </div>

        <h1 class="titulo">Listagem de Profissões</h1>
        
        <input id="busca" type="search" class="form-control busca" placeholder="Buscar por nome, sobrenome ou profissão"
          (keyup)="buscar($event.target.value)">

        <div *ngIf="profissoes.length > 0" class="table-responsive mt-3">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Nome</th>
                <th>Sobrenome</th>
                <th>E-mail</th>
                <th>Sexo</th>
                <th>Data</th>
                <th>Cidade</th>
                <th>Estado</th>
                <th>Área de Formação</th>
                <th>Profissão</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of profissoes;">
                <td>{{item.nome}}</td>
                <td>{{item.sobrenome}}</td>
                <td>{{item.email}}</td>
                <td>{{item.sexo}}</td>
                <td>{{item.data}}</td>
                <td>{{item.cidade}}</td>
                <td>{{item.estado}}</td>
                <td>{{item.areaFormacao}}</td>
                <td>{{item.profissao}}</td>
                <td>
                  <button class="btn-default-mini btn-roxo" (click)="editar(item._id)">Editar</button>
                  <button class="btn-default-mini btn-roxo" (click)="abrirModalExcluir(item._id)">Excluir</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div *ngIf="!profissoes.length > 0" class="no-data">Nenhum dado encontrado</div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalExcluir" tabindex="-1" role="dialog" aria-labelledby="popupExcluir" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <h4>Excluir profissão?</h4>
      </div>
      <div class="form-group modal-footer">
        <button type="button" class="btn-default btn-branco" data-dismiss="modal"
          (click)="fecharModalExcluir()">Não</button>
        <button type="button" class="btn-default btn-roxo" data-dismiss="modal" (click)="excluir()">Sim</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="popup" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <h4>{{tituloModal}}</h4>
      </div>
      <div class="form-group modal-footer">
        <button type="button" class="btn-default btn-roxo" data-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>
